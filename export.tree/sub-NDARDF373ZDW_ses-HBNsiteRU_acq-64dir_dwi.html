<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="NiReports: https://www.nipreps.org/" />
<title>sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_dwi :: Diffusion MRI MRIQC report</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<script>
var timestamp = Date.now()

function read_form() {
    var ds = "HBN";
    var sub = "sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_dwi.nii.gz";

    var artifacts = [];
    $('#qcartifacts-group input:checked').each(function() {
        artifacts.push($(this).attr('name'));
    });

    var rating = $('#qcslider').val();
    var payload = {
        'dataset': ds,
        'subject': sub,
        'rating': rating,
        'artifacts': artifacts,
        'time_sec': (Date.now() - timestamp) / 1000,
        'confidence': $('#qcextra-confidence').val(),
        'comments': $('#qcextra-comments').val()
    };

    var file = new Blob([JSON.stringify(payload)], {type: 'text/json'});
    $('#btn-download').attr('href', URL.createObjectURL(file));
    $('#btn-download').attr('download', payload['dataset'] + "_" + payload['subject'] + ".json");
    return payload
};

function toggle_rating() {
    if ($('#qcrating-menu').hasClass('d-none')) {
        $('#qcrating-menu').removeClass('d-none');
        $('#qcrating-toggler').prop('checked', true);
    } else {
        $('#qcrating-menu').addClass('d-none');
        $('#qcrating-toggler').prop('checked', false);
    }
};

$(window).on('load',function(){
    var authorization = $('#btn-post').val()
    if (authorization.includes("secret_token")) {
        $('#btn-post').addClass('d-none');
    };
    timestamp = Date.now();
});

</script>
<style type="text/css">
/* The slider itself */
.slider {
  -webkit-appearance: none;  /* Override default CSS styles */
  appearance: none;
  margin-bottom: 8px;
  margin-left: 10%;
  width: 80%;
  height: 5px; /* Specified height */
  background: #d3d3d3; /* Grey background */
  outline: none; /* Remove outline */
  opacity: 0.7; /* Set transparency (for mouse-over effects on hover) */
  -webkit-transition: .2s; /* 0.2 seconds transition on hover */
  transition: opacity .2s;
}

/* Mouse-over effects */
.slider:hover {
  opacity: 1; /* Fully shown on mouse-over */
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border: 0;
  background: url('https://raw.githubusercontent.com/nipreps/nireports/main/assets/slider-handle.png');
  cursor: pointer;
  z-index: 2000 !important;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border: 0;
  background: url('https://raw.githubusercontent.com/nipreps/nireports/main/assets/slider-handle.png');
  cursor: pointer;
  z-index: 2000 !important;
}

</style>
</head>
<body style="font-family: helvetica;">
<nav class="navbar fixed-top navbar-expand-lg bg-light">
<div class="container-fluid">
<div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="#Summary">Summary</a></li>
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="navbarDWI shells" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#DWI shells">
            DWI shells
            </a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#acquisition-64dir_bval-0_datatype-figures_desc-avgstd_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi">Reports for: bval <span class="bids-entity">0</span>.</a></li>
                <li><a class="dropdown-item" href="#acquisition-64dir_bval-1000_datatype-figures_desc-avgstd_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi">Reports for: bval <span class="bids-entity">1000</span>.</a></li>
                <li><a class="dropdown-item" href="#acquisition-64dir_bval-2000_datatype-figures_desc-avgstd_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi">Reports for: bval <span class="bids-entity">2000</span>.</a></li>
            </ul>
        </li>
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="navbarAbout" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#About">
            About
            </a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#errors">Errors</a></li>
                <li><a class="dropdown-item" href="#meta-about-metadata">Reproducibility and provenance information</a></li>
            </ul>
        </li>
    </ul>
</div>
</div>
<div class="d-flex flex-row-reverse">
<div class="form-check form-switch align-self-center flex-fill me-4">
<input class="form-check-input" type="checkbox" id="qcrating-toggler"></input>
<label class="form-check-label" style="width: 100pt;" for="qcrating-toggler">Rating widget</label>
</div>
</div>
</nav>
<noscript>
    <h1 class="text-danger"> The navigation menu uses Javascript. Without it this report might not work as expected </h1>
</noscript>

    <div id="Summary" class="mt-5">
    <h1 class="sub-report-title pt-5 ps-4">Summary</h1>
        <div id="acquisition-64dir_datatype-figures_desc-heatmap_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Shell-wise joint distribution of SNR vs. FA in every voxel</h3><p class="elem-caption">This visualization divides the data by shells, and shows the joint distribution of SNR vs. FA. At the bottom, the distributions are marginalized for SNR. Please note that the figures of SNR provided are calculated with a coarse estimation of the signal variability, and therefore should be interpreted with care.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-heatmap_dwi.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-heatmap_dwi.svg" target="_blank">sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-heatmap_dwi.svg</a></small>

        </div>
        <div id="acquisition-64dir_datatype-figures_desc-fa_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Fractional anisotropy (FA) map</h3><p class="elem-caption">Reconstructed FA map.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-fa_dwi.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-fa_dwi.svg" target="_blank">sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-fa_dwi.svg</a></small>

        </div>
        <div id="acquisition-64dir_datatype-figures_desc-md_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">Mean diffusivity (MD) map</h3><p class="elem-caption">Reconstructed MD map.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-md_dwi.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-md_dwi.svg" target="_blank">sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-md_dwi.svg</a></small>

        </div>
    </div>
    <div id="DWI shells" class="mt-5">
    <h1 class="sub-report-title pt-5 ps-4">DWI shells</h1>
        <div id="acquisition-64dir_bval-0_datatype-figures_desc-avgstd_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: bval <span class="bids-entity">0</span>.</h2><h3 class="run-title mt-3">Voxel-wise average and standard deviation across volumes in this <em>DWI shell</em>.</h3><p class="elem-caption">This panel shows mosaics flickering between the voxel-wise average and standard deviation for each shell.</p>                    <div class="reportlet">
<object class="svg-reportlet" type="image/svg+xml" data="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-00000_dwi.svg" style="">
Problem loading figure sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-00000_dwi.svg. If the link below works, please try reloading the report in your browser.</object>
</div>
<small>Get figure file: <a href="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-00000_dwi.svg" target="_blank">sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-00000_dwi.svg</a></small>

        </div>
        <div id="acquisition-64dir_bval-0_datatype-figures_desc-background_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">View of the background of the voxel-wise average of this <em>DWI shell</em></h3><p class="elem-caption">This panel shows a mosaic enhancing the background around the head. Artifacts usually unveil themselves in the air surrounding the head, where no signal sources are present.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-background_bval-00000_dwi.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-background_bval-00000_dwi.svg" target="_blank">sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-background_bval-00000_dwi.svg</a></small>

        </div>
        <div id="acquisition-64dir_bval-1000_datatype-figures_desc-avgstd_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: bval <span class="bids-entity">1000</span>.</h2><h3 class="run-title mt-3">Voxel-wise average and standard deviation across volumes in this <em>DWI shell</em>.</h3><p class="elem-caption">This panel shows mosaics flickering between the voxel-wise average and standard deviation for each shell.</p>                    <div class="reportlet">
<object class="svg-reportlet" type="image/svg+xml" data="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-01000_dwi.svg" style="">
Problem loading figure sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-01000_dwi.svg. If the link below works, please try reloading the report in your browser.</object>
</div>
<small>Get figure file: <a href="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-01000_dwi.svg" target="_blank">sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-01000_dwi.svg</a></small>

        </div>
        <div id="acquisition-64dir_bval-1000_datatype-figures_desc-background_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">View of the background of the voxel-wise average of this <em>DWI shell</em></h3><p class="elem-caption">This panel shows a mosaic enhancing the background around the head. Artifacts usually unveil themselves in the air surrounding the head, where no signal sources are present.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-background_bval-01000_dwi.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-background_bval-01000_dwi.svg" target="_blank">sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-background_bval-01000_dwi.svg</a></small>

        </div>
        <div id="acquisition-64dir_bval-2000_datatype-figures_desc-avgstd_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reports for: bval <span class="bids-entity">2000</span>.</h2><h3 class="run-title mt-3">Voxel-wise average and standard deviation across volumes in this <em>DWI shell</em>.</h3><p class="elem-caption">This panel shows mosaics flickering between the voxel-wise average and standard deviation for each shell.</p>                    <div class="reportlet">
<object class="svg-reportlet" type="image/svg+xml" data="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-02000_dwi.svg" style="">
Problem loading figure sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-02000_dwi.svg. If the link below works, please try reloading the report in your browser.</object>
</div>
<small>Get figure file: <a href="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-02000_dwi.svg" target="_blank">sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-avgstd_bval-02000_dwi.svg</a></small>

        </div>
        <div id="acquisition-64dir_bval-2000_datatype-figures_desc-background_session-HBNsiteRU_subject-NDARDF373ZDW_suffix-dwi" class="ps-4 pe-4 mb-2">
<h3 class="run-title mt-3">View of the background of the voxel-wise average of this <em>DWI shell</em></h3><p class="elem-caption">This panel shows a mosaic enhancing the background around the head. Artifacts usually unveil themselves in the air surrounding the head, where no signal sources are present.</p>                    <div class="reportlet">
<img class="svg-reportlet" src="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-background_bval-02000_dwi.svg" style="width: 100%" />
</div>
<small>Get figure file: <a href="./sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-background_bval-02000_dwi.svg" target="_blank">sub-NDARDF373ZDW/figures/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_desc-background_bval-02000_dwi.svg</a></small>

        </div>
    </div>
    <div id="About" class="mt-5">
    <h1 class="sub-report-title pt-5 ps-4">About</h1>
        <div id="errors" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Errors</h2>                    <p class="alert alert-success" role="alert">No errors to report!</p>
        </div>
        <div id="meta-about-metadata" class="ps-4 pe-4 mb-2">
<h2 class="sub-report-group mt-4">Reproducibility and provenance information</h2><p class="elem-caption">Thanks for using <em>MRIQC</em>. The following information may assist in
reconstructing the provenance of the corresponding derivatives.
</p>                    <div class="accordion accordion-flush" id="about-metadata">


  <div class="accordion-item">
    <h2 class="accordion-header" id="about-metadata-0">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#about-metadata-0-collapse" aria-controls="about-metadata-0-collapse">
        Provenance Information
      </button>
    </h2>
    <div id="about-metadata-0-collapse" class="accordion-collapse collapse" aria-labelledby="about-metadata-0-heading" data-bs-parent="#about-metadata-0">
      <div class="accordion-body metadata-table">
      <table id="about-metadata-table-0" class="table table-sm table-striped">
<tr><td colspan=2>Execution environment</td><td>posix</td></tr>
<tr><td colspan=2>Input filename</td><td><BIDS root>/sub-NDARDF373ZDW/ses-HBNsiteRU/dwi/sub-NDARDF373ZDW_ses-HBNsiteRU_acq-64dir_dwi.nii.gz</td></tr>
<tr><td>Versions</td><td>MRIQC</td><td>24.0.0</td></tr>
<tr><td>Versions</td><td>NiPype</td><td>1.8.7.dev0</td></tr>
<tr><td>Versions</td><td>TemplateFlow</td><td>24.2.0.dev49+gb1f2eb2a.d20240413</td></tr>
<tr><td colspan=2>md5sum</td><td>5d3db51a744aec4b08a548943c0b4de4</td></tr>
</table>

      </div>
    </div>
  </div>


  <div class="accordion-item">
    <h2 class="accordion-header" id="about-metadata-1">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#about-metadata-1-collapse" aria-controls="about-metadata-1-collapse">
        Dataset Information
      </button>
    </h2>
    <div id="about-metadata-1-collapse" class="accordion-collapse collapse" aria-labelledby="about-metadata-1-heading" data-bs-parent="#about-metadata-1">
      <div class="accordion-body metadata-table">
      <table id="about-metadata-table-1" class="table table-sm table-striped">
<tr><td>AcquisitionMatrixPE</td><td>104</td></tr>
<tr><td>BandwidthPerPixelPhaseEncode</td><td>23.17</td></tr>
<tr><td>BaseResolution</td><td>104</td></tr>
<tr><td>ConversionSoftware</td><td>dcm2niix</td></tr>
<tr><td>ConversionSoftwareVersion</td><td>v1.0.20171204 (OpenJPEG build) GCC4.8.4</td></tr>
<tr><td>DerivedVendorReportedEchoSpacing</td><td>0.000829986</td></tr>
<tr><td>Dim1Size</td><td>104</td></tr>
<tr><td>Dim2Size</td><td>104</td></tr>
<tr><td>Dim3Size</td><td>72</td></tr>
<tr><td>DwellTime</td><td>3.5e-06</td></tr>
<tr><td>EchoTime</td><td>0.1002</td></tr>
<tr><td>EffectiveEchoSpacing</td><td>0.000414993</td></tr>
<tr><td>FlipAngle</td><td>90</td></tr>
<tr><td>ImageComments</td><td>Unaliased_MB3_PE4_(remote)_SENSE1</td></tr>
<tr><td>ImageOrientationPatientDICOM</td><td>[0.999816, -0.00454665, -0.0186513, -3.83102e-08, 0.971549, -0.236838]</td></tr>
<tr><td>ImageType</td><td>['ORIGINAL', 'PRIMARY', 'DIFFUSION', 'NONE', 'MB', 'ND']</td></tr>
<tr><td>InPlanePhaseEncodingDirectionDICOM</td><td>COL</td></tr>
<tr><td>MRAcquisitionType</td><td>2D</td></tr>
<tr><td>MagneticFieldStrength</td><td>3</td></tr>
<tr><td>Manufacturer</td><td>Siemens</td></tr>
<tr><td>ManufacturersModelName</td><td>TrioTim</td></tr>
<tr><td>Modality</td><td>MR</td></tr>
<tr><td>NumVolumes</td><td>129</td></tr>
<tr><td>Obliquity</td><td>True</td></tr>
<tr><td>ParallelReductionFactorInPlane</td><td>2</td></tr>
<tr><td>PartialFourier</td><td>1</td></tr>
<tr><td>PatientPosition</td><td>HFS</td></tr>
<tr><td>PercentPhaseFOV</td><td>100</td></tr>
<tr><td>PhaseEncodingDirection</td><td>j-</td></tr>
<tr><td>PhaseEncodingSteps</td><td>103</td></tr>
<tr><td>PhaseResolution</td><td>1</td></tr>
<tr><td>PixelBandwidth</td><td>1374</td></tr>
<tr><td>ProcedureStepDescription</td><td>CMI_HBN</td></tr>
<tr><td>ProtocolName</td><td>DKI</td></tr>
<tr><td>PulseSequenceDetails</td><td>%CustomerSeq%_cmrr_mbep2d_diff</td></tr>
<tr><td>ReceiveCoilName</td><td>32Ch_Head</td></tr>
<tr><td>ReconMatrixPE</td><td>104</td></tr>
<tr><td>RepetitionTime</td><td>3.32</td></tr>
<tr><td>SAR</td><td>0.326263</td></tr>
<tr><td>ScanOptions</td><td>FS</td></tr>
<tr><td>ScanningSequence</td><td>EP</td></tr>
<tr><td>SequenceName</td><td>ep_b0</td></tr>
<tr><td>SequenceVariant</td><td>SK_SS</td></tr>
<tr><td>SeriesDescription</td><td>DKI</td></tr>
<tr><td>ShimSetting</td><td>[2067, -645, -7565, 1078, 435, 803, 282, -235]</td></tr>
<tr><td>SliceThickness</td><td>1.8</td></tr>
<tr><td>SoftwareVersions</td><td>syngo_MR_B19</td></tr>
<tr><td>SpacingBetweenSlices</td><td>1.8</td></tr>
<tr><td>TotalReadoutTime</td><td>0.0427443</td></tr>
<tr><td>TxRefAmp</td><td>296.337</td></tr>
<tr><td>VoxelSizeDim1</td><td>1.7980767488479614</td></tr>
<tr><td>VoxelSizeDim2</td><td>1.798076868057251</td></tr>
<tr><td>VoxelSizeDim3</td><td>1.7999968528747559</td></tr>
</table>

      </div>
    </div>
  </div>


  <div class="accordion-item">
    <h2 class="accordion-header" id="about-metadata-2">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#about-metadata-2-collapse" aria-controls="about-metadata-2-collapse">
        Extracted Image quality metrics (IQMs)
      </button>
    </h2>
    <div id="about-metadata-2-collapse" class="accordion-collapse collapse" aria-labelledby="about-metadata-2-heading" data-bs-parent="#about-metadata-2">
      <div class="accordion-body metadata-table">
      <table id="about-metadata-table-2" class="table table-sm table-striped">
<tr><td colspan=4>NumberOfShells</td><td>2</td></tr>
<tr><td colspan=4>bValues</td><td>[0.0, 1000.0, 2000.0]</td></tr>
<tr><td colspan=4>bValuesEstimation</td><td>[1000.0, 2000.0]</td></tr>
<tr><td>bdiffs</td><td colspan=3>max</td><td>0.1789</td></tr>
<tr><td>bdiffs</td><td colspan=3>mean</td><td>0.0466</td></tr>
<tr><td>bdiffs</td><td colspan=3>median</td><td>0.031</td></tr>
<tr><td>bdiffs</td><td colspan=3>min</td><td>0.0062</td></tr>
<tr><td>efc</td><td colspan=3>shell01</td><td>1.8598</td></tr>
<tr><td>efc</td><td colspan=3>shell02</td><td>0.6374</td></tr>
<tr><td>efc</td><td colspan=3>shell03</td><td>0.5794</td></tr>
<tr><td>fa</td><td colspan=3>degenerate</td><td>0.0</td></tr>
<tr><td>fa</td><td colspan=3>nans</td><td>0.0</td></tr>
<tr><td>fber</td><td colspan=3>shell01</td><td>203.56</td></tr>
<tr><td>fber</td><td colspan=3>shell02</td><td>390.0625</td></tr>
<tr><td>fber</td><td colspan=3>shell03</td><td>132.25</td></tr>
<tr><td>fd</td><td colspan=3>mean</td><td>5.8218</td></tr>
<tr><td>fd</td><td colspan=3>num</td><td>128</td></tr>
<tr><td>fd</td><td colspan=3>perc</td><td>99.2248062015504</td></tr>
<tr><td colspan=4>ndc</td><td>0.3841</td></tr>
<tr><td>sigma</td><td colspan=3>cc</td><td>26.6868</td></tr>
<tr><td>sigma</td><td colspan=3>pca</td><td>11.7737</td></tr>
<tr><td>sigma</td><td colspan=3>piesno</td><td>1.3206</td></tr>
<tr><td>snr</td><td>cc</td><td colspan=2>shell0</td><td>4.87</td></tr>
<tr><td>snr</td><td>cc</td><td>shell1</td><td>best</td><td>4.95</td></tr>
<tr><td>snr</td><td>cc</td><td>shell1</td><td>worst</td><td>4.95</td></tr>
<tr><td>snr</td><td>cc</td><td>shell2</td><td>best</td><td>2.77</td></tr>
<tr><td>snr</td><td>cc</td><td>shell2</td><td>worst</td><td>1.48</td></tr>
<tr><td>spikes</td><td colspan=3>global</td><td>76.45</td></tr>
<tr><td>spikes</td><td>slice</td><td colspan=2>i</td><td>462.76</td></tr>
<tr><td>spikes</td><td>slice</td><td colspan=2>j</td><td>414.1</td></tr>
<tr><td>spikes</td><td>slice</td><td colspan=2>k</td><td>538.97</td></tr>
<tr><td>summary</td><td>bg</td><td colspan=2>k</td><td>263.5979</td></tr>
<tr><td>summary</td><td>bg</td><td colspan=2>mad</td><td>4.4478</td></tr>
<tr><td>summary</td><td>bg</td><td colspan=2>mean</td><td>12.8198</td></tr>
<tr><td>summary</td><td>bg</td><td colspan=2>median</td><td>5.0</td></tr>
<tr><td>summary</td><td>bg</td><td colspan=2>n</td><td>534355.0</td></tr>
<tr><td>summary</td><td>bg</td><td colspan=2>p05</td><td>1.0</td></tr>
<tr><td>summary</td><td>bg</td><td colspan=2>p95</td><td>53.0</td></tr>
<tr><td>summary</td><td>bg</td><td colspan=2>stdv</td><td>31.9704</td></tr>
<tr><td>summary</td><td>fg</td><td colspan=2>k</td><td>7.5925</td></tr>
<tr><td>summary</td><td>fg</td><td colspan=2>mad</td><td>102.2996</td></tr>
<tr><td>summary</td><td>fg</td><td colspan=2>mean</td><td>244.0332</td></tr>
<tr><td>summary</td><td>fg</td><td colspan=2>median</td><td>217.0</td></tr>
<tr><td>summary</td><td>fg</td><td colspan=2>n</td><td>244397.0</td></tr>
<tr><td>summary</td><td>fg</td><td colspan=2>p05</td><td>83.0</td></tr>
<tr><td>summary</td><td>fg</td><td colspan=2>p95</td><td>482.0</td></tr>
<tr><td>summary</td><td>fg</td><td colspan=2>stdv</td><td>136.7186</td></tr>
<tr><td>summary</td><td>wm</td><td colspan=2>k</td><td>6.1592</td></tr>
<tr><td>summary</td><td>wm</td><td colspan=2>mad</td><td>100.817</td></tr>
<tr><td>summary</td><td>wm</td><td colspan=2>mean</td><td>239.5462</td></tr>
<tr><td>summary</td><td>wm</td><td colspan=2>median</td><td>215.0</td></tr>
<tr><td>summary</td><td>wm</td><td colspan=2>n</td><td>223985.0</td></tr>
<tr><td>summary</td><td>wm</td><td colspan=2>p05</td><td>85.0</td></tr>
<tr><td>summary</td><td>wm</td><td colspan=2>p95</td><td>463.0</td></tr>
<tr><td>summary</td><td>wm</td><td colspan=2>stdv</td><td>127.1137</td></tr>
</table>

      </div>
    </div>
  </div>

</div>
        </div>
    </div>

<div id="qcrating-menu" class="card position-fixed d-none" style="width: 30%; top: 100px; left: 65%;">
<div class="card-header m-0">
    Rating widget
    <button type="button" class="btn-close position-absolute top-0 end-0" aria-label="Close" id="close-qcrating-menu" onclick="toggle_rating()" style="margin: 10px 10px 0 0"></button>
</div>
<div class="card-body">
<div class="accordion">
  <div class="accordion-item">
    <h2 class="accordion-header" id="qcslider-head">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#qcslider-collapse" aria-expanded="true" aria-controls="qcslider-collapse">Overall Quality Rating</button>
    </h2>
    <div id="qcslider-collapse" class="accordion-collapse collapse show" aria-labelledby="qcslider-head">
      <div class="accordion-body">
        <input type="range" min="1.0" max="4.0" step="0.05" value="2.5" id="qcslider" class="slider">
        <ul class="list-group list-group-horizontal slider-labels" style="width: 100%">
            <li class="list-group-item list-group-item-danger small" style="font-size: 0.7em; width: 25%; text-align:center">Exclude</li>
            <li class="list-group-item list-group-item-warning small" style="font-size: 0.7em; width: 25%; text-align:center">Poor</li>
            <li class="list-group-item list-group-item-primary small" style="font-size: 0.7em; width: 25%; text-align:center">Acceptable</li>
            <li class="list-group-item list-group-item-success small" style="font-size: 0.7em; width: 25%; text-align:center">Excellent</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="accordion-item">
    <h2 class="accordion-header" id="qcartifacts-head">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#qcartifacts-collapse" aria-expanded="false" aria-controls="qcartifacts-collapse">
        Record specific artifacts
      </button>
    </h2>
    <div id="qcartifacts-collapse" class="accordion-collapse collapse" aria-labelledby="qcartifacts-head">
      <div class="accordion-body">
        <fieldset id="qcartifacts-group" class="form-group">
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="head-motion" id="qcartifacts-item-0" />
                <label class="form-check-label" for="qcartifacts-item-0">Head motion artifacts</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="eye-spillover" id="qcartifacts-item-1" />
                <label class="form-check-label" for="qcartifacts-item-1">Eye spillover through <abbr title="phase-encoding">PE</abbr> axis</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="noneye-spillover" id="qcartifacts-item-2" />
                <label class="form-check-label" for="qcartifacts-item-2">Non-eye spillover through <abbr title="phase-encoding">PE</abbr> axis</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="coil-failure" id="qcartifacts-item-3" />
                <label class="form-check-label" for="qcartifacts-item-3">Coil failure</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="noise-global" id="qcartifacts-item-4" />
                <label class="form-check-label" for="qcartifacts-item-4">Global noise</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="noise-local" id="qcartifacts-item-5" />
                <label class="form-check-label" for="qcartifacts-item-5">Local noise</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="em-perturbation" id="qcartifacts-item-6" />
                <label class="form-check-label" for="qcartifacts-item-6"><abbr title="electromagnetic">EM</abbr> interference/perturbation</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="wrap-around" id="qcartifacts-item-7" />
                <label class="form-check-label" for="qcartifacts-item-7">Problematic <abbr title="field-of-view">FoV</abbr> prescription / wrap-around</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="ghost-aliasing" id="qcartifacts-item-8" />
                <label class="form-check-label" for="qcartifacts-item-8">Aliasing ghosts</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="ghost-other" id="qcartifacts-item-9" />
                <label class="form-check-label" for="qcartifacts-item-9">Other ghosts (for example, <abbr title="radiofrequency">RF</abbr> spoiling)</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="inu" id="qcartifacts-item-10" />
                <label class="form-check-label" for="qcartifacts-item-10">Intensity non-uniformity (B<sub>1</sub> bias)</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="field-variation" id="qcartifacts-item-11" />
                <label class="form-check-label" for="qcartifacts-item-11">Temporal B<sub>1</sub> field non-uniformity variation</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="processing" id="qcartifacts-item-12" />
                <label class="form-check-label" for="qcartifacts-item-12">Processing such as denoising, defacing or resamplings happened</label>
            </div>
            <div class="form-check form-switch small">
                <input class="form-check-input" type="checkbox" name="uncategorized" id="qcartifacts-item-13" />
                <label class="form-check-label" for="qcartifacts-item-13">Other uncategorized artifact(s)</label>
            </div>
        </fieldset>
      </div> <!-- accordion-body -->
    </div> <!-- accordion-collapse -->
  </div> <!-- accordion-item -->
  <div class="accordion-item">
    <h2 class="accordion-header" id="qcextra-head">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#qcextra-collapse" aria-expanded="false" aria-controls="qcextra-collapse">
        Extra details
      </button>
    </h2>
    <div id="qcextra-collapse" class="accordion-collapse collapse" aria-labelledby="qcextra-head">
      <div class="accordion-body">
        <div class="input-group">
          <span class="input-group-text">Comments</span>
          <textarea class="form-control" aria-label="Comments" id="qcextra-comments"></textarea>
        </div>

        <p style="margin-top: 20px; font-weight: bold">Rater confidence</p>
        <input type="range" min="0.0" max="4.0" step="0.05" value="3.5" id="qcextra-confidence" class="slider" style="margin-left: 22%;width: 56%;">
        <ul class="list-group list-group-horizontal slider-labels" style="width: 100%">
            <li class="list-group-item list-group-item-warning small" style="width: 50%; text-align:center">Doubtful</li>
            <li class="list-group-item list-group-item-success bg-success text-white small" style="width: 50%; text-align:center">Confident</li>
        </ul>
       </div> <!-- accordion-body -->
    </div> <!-- accordion-collapse -->
  </div> <!-- accordion-item -->
</div>
<div style="margin-top: 10px">
<a class="btn btn-primary disabled" id="btn-download" href="">Download</a>
</div>
<script type="text/javascript">
var MINIMUM_RATING_TIME = 10
$('#qcslider').on('input', function() {

    if ( (Date.now() - timestamp) / 1000 > MINIMUM_RATING_TIME) {
        $('#btn-download').removeClass('disabled');
        $('#btn-download').removeAttr('aria-disabled');
        $('#btn-post').removeAttr('disabled');
    };

    $('#qcslider-collapse .list-group-item').removeClass(function(index, classname) {
        return (classname.match(/(^|\s)bg-\S+/g) || []).join(' ');
    });
    $('#qcslider-collapse .list-group-item').removeClass(function(index, classname) {
        return (classname.match(/(^|\s)text-\S+/g) || []).join(' ');
    });

    if ( $(this).val() < 1.5 ) {
        $('#qcslider-collapse .list-group-item-danger').addClass('bg-danger text-white');
    } else if ( $(this).val() > 3.5 ) {
        $('#qcslider-collapse .list-group-item-success').addClass('bg-success text-white');
    } else if ( $(this).val() < 2.5 ) {
        $('#qcslider-collapse .list-group-item-warning').addClass('bg-warning text-dark');
    } else {
        $('#qcslider-collapse .list-group-item-primary').addClass('bg-primary text-white');
    };

    var payload = read_form();
});

$('#qcextra-confidence').on('input', function() {
    if ( (Date.now() - timestamp) / 1000 > MINIMUM_RATING_TIME) {
        $('#btn-download').removeClass('disabled');
        $('#btn-download').removeAttr('aria-disabled');
        $('#btn-post').removeAttr('disabled');
    };

    $('#qcextra-collapse .list-group-item').removeClass(function(index, classname) {
        return (classname.match(/(^|\s)bg-\S+/g) || []).join(' ');
    });
    $('#qcextra-collapse .list-group-item').removeClass(function(index, classname) {
        return (classname.match(/(^|\s)text-\S+/g) || []).join(' ');
    });

    if ( $(this).val() < 2.0 ) {
        $('#qcextra-collapse .list-group-item-warning').addClass('bg-warning text-dark');
    } else {
        $('#qcextra-collapse .list-group-item-success').addClass('bg-success text-white');
    };

    var payload = read_form();
});


$('#qcextra-comments').bind('input propertychange', function() {
    if ( (Date.now() - timestamp) / 1000 > MINIMUM_RATING_TIME) {
        $('#btn-download').removeClass('disabled');
        $('#btn-download').removeAttr('aria-disabled');
        $('#btn-post').removeAttr('disabled');
    };
});

$( '#btn-post' ).click( function() {
    var payload = read_form();
    var md5sum = "unspecified";
    var params = {
        'rating': payload['rating'],
        'md5sum': md5sum,
        'name': "",
        'comment': JSON.stringify(payload['artifacts'])
    };

    // disable development releases
    var authorization = $(this).val();
    var ratingReq = new XMLHttpRequest();
    ratingReq.open("POST", "https://mriqc.nimh.nih.gov:443/api/v1/rating");
    ratingReq.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    ratingReq.setRequestHeader("Authorization", authorization);
    ratingReq.onload = function () {
        status = ratingReq.status;
        $('#btn-post').removeClass('btn-primary');
        $('#btn-post').attr('disabled', true);
        $('#btn-post').attr('aria-disabled', true);
        $('#btn-post').prop('disabled');
        $('#btn-post').addClass('disabled');
        $('#btn-post').removeClass('active');
        if (status === "201") {
            $('#btn-post').addClass('btn-success');
            $('#btn-post').html('Posted!');
        } else {
            $('#btn-post').addClass('btn-danger');
            $('#btn-post').html('Failed');
        };
    };
    ratingReq.send(JSON.stringify(params));
});

$( 'body' ).on( 'click', '#qcartifacts-group input', function(e) {
    if ( (Date.now() - timestamp) / 1000 > MINIMUM_RATING_TIME) {
        $('#btn-download').removeClass('disabled');
        $('#btn-download').removeAttr('aria-disabled');
        $('#btn-post').removeAttr('disabled');
    };
    
    var payload = read_form();
});

$( 'body' ).on( 'click', '#qcrating-toggler', function(e) {
    toggle_rating();
});
</script>
</div>

<script type="text/javascript">
function toggle(id) {
    var element = document.getElementById(id);
    if(element.style.display == 'block')
        element.style.display = 'none';
    else
        element.style.display = 'block';
}
</script>
</body>
</html>